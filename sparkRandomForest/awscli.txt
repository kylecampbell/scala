aws emr create-cluster --applications Name=Ganglia Name=Spark Name=Zeppelin --ec2-attributes '{"KeyName":"devenv-key","InstanceProfile":"EMR_EC2_DefaultRole","SubnetId":"subnet-a0c1c5c5","EmrManagedSlaveSecurityGroup":"sg-6856f01d","EmrManagedMasterSecurityGroup":"sg-125ff967"}' --service-role EMR_DefaultRole --enable-debugging --release-label emr-5.10.0 --log-uri 's3n://aws-logs-842328684541-us-east-1/elasticmapreduce/' --steps '[{"Args":["spark-submit","--deploy-mode","cluster","--class","MushroomModel","s3://cs696/jars/mushroom-model_2.11-1.0.jar"],"Type":"CUSTOM_JAR","ActionOnFailure":"CONTINUE","Jar":"command-runner.jar","Properties":"","Name":"Spark application"}]' --name 'Cluster1' --instance-groups '[{"InstanceCount":1,"InstanceGroupType":"MASTER","InstanceType":"m1.medium","Name":"Master Instance Group"},{"InstanceCount":2,"InstanceGroupType":"CORE","InstanceType":"m1.medium","Name":"Core Instance Group"}]' --configurations '[{"Classification":"spark","Properties":{"maximizeResourceAllocation":"true"},"Configurations":[]}]' --scale-down-behavior TERMINATE_AT_TASK_COMPLETION --region us-east-1
